<!DOCTYPE html>

<html lang="en-US">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ .Title }} — {{ .Site.Title }}</title>
  
  <link rel="icon" type="image/png" href="/favicon-32x32.png" />
  <link rel="icon" type="mage/x-icon" href="/favicon.ico" />

  <meta property="og:title" content="{{ .Title }} — {{ .Site.Title }}" />
  <meta property="og:description" content="{{ .Params.description }}" />
  {{ block "metadata" . }}
  <meta property="og:image" content="https://mlcom.org/android-chrome-192x192.png" />
  {{ end }}
  <meta property="og:url" content="https://mlcom.org{{ .Page.RelPermalink }}" />
  <meta content="#0a1922" data-react-helmet="true" name="theme-color" />

  {{ $sass := resources.Get "styles/main.scss" }}
  {{ $style := $sass | resources.ToCSS | fingerprint }}
  <link rel="stylesheet" href="{{ $style.Permalink }}" integrity="{{ $style.Data.Integrity }}">
</head>

<body>
    <nav class="nav-header" role="navigation">
        <div class="center mw9 flex-ns flex-wrap items-center justify-start">
            <h1 class=""><a href="/"><img src="/fist.png" /> Marxism-Leninism</a></h1>

            <a href="#" id="hamburger-menu">
              <span id="hamburger-1"></span>
              <span id="hamburger-2"></span>
              <span id="hamburger-3"></span>
            </a>

            <ul id="main-menu">
                <li><a href="/topics">Topics</a></li>
                <li><a href="/archives">Archives</a></li>
                <li><a href="/videos">Videos</a></li>
                <li><a href="/posts">Community Posts</a></li>
                <li><a href="/glossary">Glossary</a></li>
                <li><a href="/contribute">Contribute</a></li>
            </ul>
        </div>
    </nav>

    <main role="main" class="main-content content-with-sidebar" id="page-{{ .RelPermalink | relURL | anchorize }}">
      {{ block "main" . }}
        <!-- The part of the page that begins to differ between templates -->
      {{ end }}
    </main>

    <footer class="footer">
      <div class="center mw9 flex-ns flex-wrap items-center justify-start">
        <p>This is a community maintained and operated website for Marxist-Leninists.</p>
      </div>
    </footer>

    <script>
      var main_menu = document.getElementById('main-menu');
      var main_menu_visible = false;

      document.getElementById('hamburger-menu').addEventListener('click', (event) => {
        event.preventDefault();

        if (main_menu_visible) {
          main_menu_visible = false;
          main_menu.classList = ['collapsed'];
        } else {
          main_menu_visible = true;
          main_menu.classList = ['visible'];
        }
      });
    </script>
  </body>
</html>